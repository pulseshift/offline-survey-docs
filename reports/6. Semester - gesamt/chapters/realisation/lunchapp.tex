\section{Lunchapp - Proof of Concept}
\label{section:realisation:lunchapp}

\subsection{Beschreibung}
Die Idee der Lunchapp ist es, den Medienbruch zu den Offline-Mitarbeitern möglichst früh zu nehmen und eine App zu entwickeln, die kontinuierlich von den Mitarbeitern genutzt wird. Während der Nutzung wird der Mitarbeiter gefragt, ob er an einer Umfrage teilnehmen möchte, und kann dies auch direkt aus der App tun. Der Vorteil einer Lunchapp ist hier vor allem, dass es sich um unkritische Daten handelt. Um diesen Punkt zu verdeutlichen, wird eine andere Möglichkeit weiter beleuchtet: Der Dienstplan. Hierbei handelt es sich um datenschutzrechtlich sensible Daten, die keineswegs frei verfügbar gemacht werden dürfen. Dementsprechend wurde für eine prototypische Implementierung eine Lunchapp ausgewählt.
\subsection{Lastenheft}

\begin{itemize}
\item Es ist eine mobile Anwendung zu erstellen, die das Lunchmenü für die nächsten 5 Tage anzeigt. Dies beinhaltet den Namen, den Preis sowie die Allergene und Zusatzstoffe der einzelnen Menüs.
\item Zusätzlich sollen die Öffnungszeiten der Kantine angezeigt werden. 
\item Außerdem soll es möglich sein zwischen verschiedenen Kantinen zu wählen
\item Wenn die Kantine geschlossen ist, soll diese Information anstelle der Öffnungszeiten und des Lunchmenüs angezeigt werden.
\item Außerdem soll die Umfragefunktionalität von PulseShift direkt innerhalb der Anwendung zur Verfügung stehen und kein Absprung nötig sein.
\item In der Anwendung sollen Banner angezeigt werden können, die den Nutzer zum Teilen der App oder der Teilnahme an einer Umfrage bewegen. Diese sollen in für den Nutzer als zufällig empfundenen Zeitabständen angezeigt werden.
\item Für die Umfragefunktionalität soll der Benutzer mindestens auf eine Gruppe von Personen eingegrenzt werden können.
\item Der Nutzer soll von der Anwendung aktiv über die Möglichkeit zur Umfrage sowie Essensangebote informiert werden.
\item Das Design der Anwendung soll sich an den von PulseShift entwickelten und bereitgestellten Mockups orientieren.
\end{itemize}

\subsection{Pflichtenheft}

\begin{itemize}
\item Es wird eine \gls{pwa} erstellt, die auf verschiedenen Plattformen lauffähig ist. 
\item Diese ermöglicht das Anzeigen des Lunchs für die nächsten 5 Tage mit dem Namen, dem Preis sowie den Allergenen und Zusatzstoffen der einzelnen Menüs. 
\item Außerdem werden die Öffnungszeiten sowie eine mögliche Schließung der Kantine angezeigt.
\item Die Daten zum Lunchmenü und den Öffnungszeiten werden lokal und hart kodiert in einer JSON Datei gemockt. Eine Anbindung an einen Datenserver erfolgt nicht. 
\item Die Umfragefunktionalität die von PulseShift entwickelt wurde, wird in die Anwendung hineingerendert werden. Das Anzeigen der Umfrage wird nicht selbst implementiert. 
\item Der Server für die Umfragefunktionalität wird austauschbar sein. Damit ist gemeint, dass die URL beliebig definierbar ist.
\item Die Benutzereingrenzung wird nach einer Absprache mit PulseShift über die konkrete gewünschte Ausprägung implementiert.
\item Die Detailansicht der Lunchmenüs wird dynamisch in die View der Übersicht der Lunchmenüs integriert.
\item Es wird eine Bannerfunktionalität bereitgestellt, die dynamisch ausgelöst werden soll. Diese weißt den Nutzer auf das Teilen der Anwendung sowie die Möglichkeit zur Umfrage hin.
\item Für Android Geräte werden Pushbenachrichtigungen implementiert. Für iOS ist dies aufgrund der Realisierung als \gls{pwa} nicht möglich.
\item Die Anwendung wird lokal gecached, damit sie auch ohne Internetverbindung genutzt werden kann.
\end{itemize}

\subsection{EPK: Ablauf der Anwendung}

\subsection{Architektur}
<<<<<<< HEAD

\subsection{Komponenten}

Im Folgenden werden grundlegende architektonische Entscheidungen gelistet und jeweils begründet.

Zunächst wurde sich für eine \gls{pwa} entschieden, und gegen eine Umsetzung als hybride Applikation. Um diese Entscheidung ausreichend begründen zu können, werden beide Technologien kurz vorgestellt.

Eine hybride Applikation ist eine native App, die aber mit Web-Technologien umgesetzt wird. Dies bedeutet, dass die Web-App in einem nativen Container ausgeführt wird und auch über einige native Funktionen verfügen kann. Nachteilig wirkt sich diese Technologie vor allem bei der Performance und der User Experience aus. Der Nutzer wird ein berichten, dass sich die Applikation unecht anfühlt, und gerade bei größeren Datenmengen und anspruchsvollen Routinen auch langsam wird. Allerdings brauch der Anbieter die App zum größten Teil nur einmal entwickeln und kann sie mit wenig Anpassungen auf allen Plattformen anbieten. Auch wenn diese Technologie vielversprechend sein mag, ist eine \gls{pwa} für den vorliegenden Anwendungsfall die bessere Wahl.

Eine \gls{pwa} ist eine Web-Applikation, die sich der Nutzer über das Speichern auf dem Home-Screen lokal abspeichern kann. Durch sogenannte Service-Worker können zudem eingeschränkt auch native Funktionalitäten genutzt werden, zum Beispiel das Senden von Push-Benachrichtigungen sowie das Cachen von Daten, und die daraus resultierende Offline-Nutzbarkeit. Für den vorliegenden Use-Case sind eben genau diese beiden Funktionalitäten ausreichend. Weiterhin wird die App über einen beliebigen Browser installiert, und muss nicht über den jeweiligen App-Store heruntergeladen werden. Das erhöht die Adaption der App und erleichtert den Unternehmen die Verteilung, da die für native Applikation notwendige Infrastruktur nicht vorhanden seinm muss.

Da eine \gls{pwa} eine Web-Applikation ist, sind entsprechende Frameworks auszuwählen. In Anbetracht der begrenzten Zeit und mangelnden personellen Ressourcen wurde Vue.js als Framework gewählt. Alternativen wie React.js und Angular.js erscheinen zwar mächtiger, sind aber auch zeitaufwendiger in der Einarbeitung. Zudem lässt sich der begrenzte Umfang der App auch problemlos mit Vue.js realisieren und im Anschluss auch warten.

Um ein möglichst übersichtliches und modernes Design zu erhalten, wird Material Design eingesetzt. Gegenüber Alternativen wie beispielsweise Bootstrap hat es den Vorteil, dass es für mobile Applikationen subjektiv bewertet ein ansprechendes Design bietet. Um eine reibungslose Nutzung von Material Design Komponenten in Vue.js zu ermögichen, wird auf Vuetify zurückgegriffen, welches Material Design in Vue.js implementiert.

\subsubsection{Push Notification}
Die Push Notification soll ermöglichen, dass der Benutzer der Progressiven Webapp Benachrichtigungen auf sein beliebiges Endgerät erhält. So kann es ermöglicht werden, die Aufmerksamkeit des Nutzers auf die App und somit auch die Umfrage zu lenken. 

Vorab muss jedoch geprüft werden, ob das Endgerät oder auch der benutze Browser die Push Notifications unterstützen. 

\begin{itemize}
\item Zunächst wird geprüft, ob der Services Worker bereit ist. 
\item Danach wird geprüft, ob dieser Services Worker in der Lage ist Push Notifications zu verarbeiten.
\item Daraufhin wird geprüft, ob das geöffnete Fenster die Push Notifications überhaupt unterstützt.
\item Im nächsten Schritt wird geprüft, ob die Push Notifications schon abgelehnt wurden. Bei diesem Schritt kann darauf hin entweder erneut gefragt werden oder einfach ohne Push Notifiactions die App bedient werden.
\end{itemize} 

Wird die Seite aufgerufen und die Push Notification sind technisch möglich wird der Benutzer mit einem Pop-Up darauf hingewiesen, dass er die Möglichkeit hat diese zu erhalten. 

Hat der Benutzer sich dazu entschlossen die Push Notifications einzuschalten, können nun von außen Nachrichten an den Benutzer gesendet werden. Dazu wird die Entwicklungs-Plattform Firesbase genutzt. Mit Hilfe von Firebase können nun die Benachrichtigungen in bestimmten zeitlichen Abständen gesendet werden.
